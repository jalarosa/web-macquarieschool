!function(l,i){var t={stuckClass:"isStuck"},p=l(document);l.fn.TMStickUp=function(r){r=l.extend(!0,{},t,r),l(this).each(function(){var t,o,e,i,n=l(this),s=!1,c=n.clone().appendTo(n.parent()).addClass(r.stuckClass),a=c.outerHeight();l(window).resize(function(){clearTimeout(i),c.css({top:s?0:-a,visibility:s?"visible":"hidden"}),i=setTimeout(function(){t=n.offset().top,o=n.outerHeight(),a=c.outerHeight(),e=l.cookie&&"opened"===l.cookie("panel1"),c.css({top:s?0:-a})},40)}).resize(),c.css({position:"fixed",width:"100%"}),n.on("rePosition",function(i,t){s&&c.animate({marginTop:t},{easing:"linear"}),e=0!==t}),p.on("scroll",function(){var i=p.scrollTop();t<=i&&!s&&(c.stop().css({visibility:"visible"}).animate({top:0,marginTop:e?50:0},{}),s=!0),i<t+o&&s&&(c.stop().animate({top:-a,marginTop:0},{duration:200,complete:function(){c.css({visibility:"hidden"})}}),s=!1)}).trigger("scroll")})}}(jQuery);